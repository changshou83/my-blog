- CSRF 攻击就是黑客利用了用户的登录状态，并通过第三方的站点来做一些坏事
- 有三种方式去实施 CSRF 攻击
	- 自动发起 Get 请求
		- 例如将图片或者音频等静态资源的src设置为黑客服务器，就可以自动发起get请求
	- 自动发起 POST 请求
		- 插入一个表单，并配上一段提交表单的JS代码
	- 引诱用户点击黑客站点上的链接
- 和 XSS 不同的是，CSRF 攻击不需要将恶意代码注入用户的页面，仅仅是利用服务器的漏洞和用户的登录状态来实施攻击
- 发起 CSRF 攻击的三个必要条件
	- 目标站点一定要有 CSRF 漏洞
	- 用户要登录过目标站点，并且在浏览器上保持有该站点的登录状态
	- 需要用户打开一个第三方站点，可以是黑客的站点，也可以是一些论坛
- 如何防止 CSRF 攻击
	- 充分利用好 Cookie 的 SameSite 属性
		- 在 HTTP 响应头中，通过 set-cookie 字段设置 Cookie 时，可以带上 SameSite 选项
		- SameSite 选项通常有 Strict、Lax 和 None 三个值
			- Strict 最为严格。如果 SameSite 的值是 Strict，那么浏览器会完全禁止第三方 Cookie
			- Lax 相对宽松一点。在跨站点的情况下，从第三方站点的链接或提交 Get 方式的表单这两种方式都会携带 Cookie，但POST方法不会携带Cookie
			- 使用 None 的话，在任何情况下都会发送 Cookie 数据
	- 服务器验证请求的来源站点
		- 通过Referer和Origin两个请求头
		- Referer 是 HTTP 请求头中的一个字段，记录了该 HTTP 请求的来源地址
		- Origin 属性只包含域名信息，而没有包含具体的 URL 路径，这是为了安全考虑
	- CSRF Token