- 在执行 JavaScript 代码之前，V8 就已经准备好了代码的运行时环境。 这个环境包括了
	- 堆空间和栈空间
	- 全局执行上下文
	- 全局作用域
	- 内置的内建函数
	- 宿主环境提供的扩展函数和对象
	- 消息循环系统
- 准备好运行时环境之后，V8 才可以执行 JavaScript 代码，这包括
	- 解析源码
	- 生成字节码
	- 解释执行或者编译执行
- 什么是宿主环境
	- 为V8提供运行环境的程序被称为宿主，例如浏览器和nodejs
	- 浏览器为V8提供
		- 堆栈空间，基础的消息循环系统、全局变量、Web API
	- V8为浏览器实现
		- ECMAScript 标准
		- 垃圾回收器、协程等基础内容
- 构造数据存储空间：堆空间和栈空间
	- 在 Chrome 中，只要打开一个渲染进程，渲染进程便会初始化 V8，同时初始化堆空间和栈空间
		- 栈空间主要是用来管理 JavaScript 函数调用的，栈是内存中连续的一块空间，同时栈结构是“先进后出”的策略
		- 堆空间是一种树形的存储结构，用来存储对象类型的离散的数据
- 全局执行上下文和全局作用域
	- V8 初始化了基础的存储空间之后，接下来就需要初始化全局执行上下文和全局作用域了
	- 执行上下文中主要包含三部分，变量环境、词法环境和 this 关键字
	- 全局执行上下文在 V8 的生存周期内是不会被销毁的，它会一直保存在堆中
	- 同一个全局执行上下文中，都能存在多个作用域
- 构造事件循环系统
	- V8 所执行的代码都是在宿主的主线程上执行的
	- 因为浏览器是多进程的，所以渲染进程的主线程为了存储来自其他进程的结果就需要引入一个消息队列，让下载完成的事件暂存到消息队列中，等当前的任务执行结束之后，再从消息队列中取出正在排队的任务
		- 事件循环在消息队列为空时会被挂起，在有任务的时候又会被激活
	- 因为所有的任务都是运行在主线程的，在浏览器的页面中，V8 会和页面共用主线程，共用消息队列