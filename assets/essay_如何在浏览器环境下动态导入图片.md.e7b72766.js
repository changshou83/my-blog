import{_ as n,c as s,o as a,a as t}from"./app.af56afdf.js";const b='{"title":"\u5982\u4F55\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u52A8\u6001\u5BFC\u5165\u56FE\u7247","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5728\u7EC4\u4EF6\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247","slug":"\u5728\u7EC4\u4EF6\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247"},{"level":2,"title":"\u5728styled-components\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247","slug":"\u5728styled-components\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247"}],"relativePath":"essay/\u5982\u4F55\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u52A8\u6001\u5BFC\u5165\u56FE\u7247.md"}',p={},e=t(`<h1 id="\u5982\u4F55\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u52A8\u6001\u5BFC\u5165\u56FE\u7247" tabindex="-1">\u5982\u4F55\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u52A8\u6001\u5BFC\u5165\u56FE\u7247</h1><p>\u6700\u8FD1\u5728\u5B66\u4E60react\uFF0C\u57FA\u672C\u4E0A\u5C31\u662F\u770B\u770Bawesome-react\u627E\u70B9\u5927\u4F6C\u7684\u9879\u76EE\u770B\u770Bdemo\u5565\u7684\uFF0C\u7136\u540E\u5728\u6284\u4E00\u4E2A\u8D2D\u7269\u8F66\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u7531\u4E8E\u8BE5\u9879\u76EE\u662F\u4F7F\u7528webpack\u6253\u5305\u7684\uFF0C\u6240\u4EE5\u5728\u5BFC\u5165\u4EA7\u54C1\u56FE\u65F6\u4F7F\u7528\u7684require\u51FD\u6570\u3002\u800C\u6211\u4F7F\u7528\u7684\u662FVite\uFF0C\u56E0\u4E3AVite\u4F7F\u7528\u7684\u662F\u6D4F\u89C8\u5668\u539F\u751F\u652F\u6301\u7684ESM\uFF0C\u6240\u4EE5require\u662F\u4E0D\u53EF\u4EE5\u4F7F\u7528\u7684\uFF0C\u4F1A\u62A5<code>require is not defined</code>\u3002\u56E0\u6B64\u5C31\u6709\u4E86\u8FD9\u7BC7\u6587\u7AE0\u3002</p><h2 id="\u5728\u7EC4\u4EF6\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247" tabindex="-1">\u5728\u7EC4\u4EF6\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247</h2><ul><li>\u4F7F\u7528<code>await import</code></li><li>\u597D\u5904\u662F\u4E0D\u7528\u5F15\u5165\u5168\u90E8\u56FE\u7247\uFF0C\u53EA\u8981\u6309\u9700\u5F15\u5165\u5373\u53EF</li></ul><p>\u53EF\u4EE5\u5C01\u88C5\u6210hook</p><div class="language-ts line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getImage</span> <span class="token operator">=</span> <span class="token punctuation">(</span>sku<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>image<span class="token punctuation">,</span> setImage<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">loadImage</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./dir/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>sku<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.png</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setImage</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>image<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> getProductImage<span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="\u5728styled-components\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247" tabindex="-1">\u5728styled-components\u4E2D\u52A8\u6001\u5BFC\u5165\u56FE\u7247</h2><p>\u539F\u9879\u76EE\u5728\u4F7F\u7528styled-components\u65F6\u4E5F\u4F7F\u7528\u4E86require\u6765\u5BFC\u5165\u56FE\u7247\u5F53\u505A\u80CC\u666F\u56FE\uFF0C\u56E0\u4E3A\u4E0D\u80FD\u4F7F\u7528\u5F02\u6B65\u7684\u52A8\u6001\u5BFC\u5165(\u4F1A\u8C03\u7528toString\u53D8\u6210\u5B57\u7B26\u4E32)\uFF0C\u56E0\u6B64\u9700\u8981\u4F7F\u7528URL\u5BF9\u8C61\u6765\u5145\u5F53url\u51FD\u6570\u7684\u53C2\u6570\u6765\u52A0\u8F7D\u56FE\u7247\u3002</p><div class="language-ts line-numbers-mode"><pre><code><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&#39;styled-component&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IContainer</span> <span class="token punctuation">{</span>
  sku<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> Container <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token operator">&lt;</span>IContainer<span class="token operator">&gt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
  background-image: url(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token punctuation">(</span><span class="token punctuation">{</span> sku <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./dir/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>sku<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.png</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>href <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">);
</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,9),o=[e];function c(l,u,i,r,k,m){return a(),s("div",null,o)}var g=n(p,[["render",c]]);export{b as __pageData,g as default};
